# Vacro Report

**Better Panic Reporting for Procedural Macros**

## Introduction

`vacro-report` is a diagnostic enhancement tool designed to improve the debugging experience for Rust Procedural Macros. 

It currently focuses on solving the opaque panic messages generated by `syn::parse_quote!`. When `parse_quote!` fails, it usually just says "failed to parse". `vacro-report` intercepts these calls and prints the actual generated token stream formatted as code, highlighting the syntax error.

## Usage

Simply decorate your function with `#[vacro_report::scope]`.

Inside the scope, any usage of `parse_quote!` will be automatically instrumented. No other code changes are required.

```rust,ignore
# use syn::{parse_quote, Expr, Token};
# use vacro_report::scope;
#[scope]
fn generate_code() {
    // If this fails, vacro-report will print the exact tokens that caused the error.
    let _expr: Expr = parse_quote! {
        1 + 2 + // Missing operand, would normally panic silently or vaguely
    };
}
```

## Features

* **Automatic Interception**: Rewrites `parse_quote!` calls within the `#[scope]` function.
* **Detailed Diagnostics**: When a parsing error occurs, it displays the generated code (formatted) and the error location.
* **Zero Overhead (Success)**: Adds minimal overhead only when an error actually occurs (panic path).

## Future Plans

* Support for more `syn` macros and custom parsing logic.
